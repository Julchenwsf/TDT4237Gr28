{% extends 'base.twig' %}

{% block content %}

    <h2>Edit profile</h2>

    {{ secureForm(__controller, ["email", "bio", "age", "submit", "profile_picture", "remove_profile_picture"], "post", "", "enctype=\"multipart/form-data\"")|raw }}
        <div id="flasherror">{{ flash.error }}</div>

        <label>email:</label>
        <input type="text" name="email" value="{{ user.email }}"> <br />

        <label>Bio:</label>
        <textarea name="bio">{{ user.bio }}</textarea>

        <label>Age:</label>
        <input type="text" name="age" value="{{ user.age }}"> <br />

        <label>Profile Picture:</label>
        <input type="file" name="profile_picture"> <br />

        <input type="hidden" name="remove_profile_picture" value="no">
	<label>Delete Current Profile Picture?</label>
        <input type="checkbox" name="remove_profile_picture" value="yes"> <br />
        <img src="/profile_picture/{{ user.username }}" alt="Profile Picture for {{ user.username }}" />

        <input type="submit" name="submit" value="Save profile">
    {{ closeSecureForm()|raw }}
{% endblock %}
